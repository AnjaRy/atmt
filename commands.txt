# Translate with baseline model from ex3
time python translate_beam.py --beam-size 2 --checkpoint-path assignments/03/baseline/checkpoints/checkpoint_best.pt --output assignments/04/translations/translation_beam7.txt --data data/en-fr/prepared --dicts data/en-fr/prepared

# Postprocess
bash scripts/postprocess.sh \
assignments/04/translations/translation_beam7.txt \
assignments/04/translations/translation_beam7.p.txt en

# Evaluate
cat \
assignments/04/translations/translation_beam7.p.txt \
| sacrebleu data/en-fr/raw/test.en


### NOT WORKING ###
# Translate with our model from ex3 with lexical model
python translate_beam.py --beam-size 2 --checkpoint-path assignments/04/checkpoint_ex3/checkpoint_best.pt --output assignments/04/translations/translation_beam7.txt --data data/en-fr/prepared --dicts data/en-fr/prepared

# Postprocess
bash scripts/postprocess.sh \
assignments/04/translations/translation_beam7.txt \
assignments/04/translations/translation_beam7.p.txt en


# Evaluate
cat \
assignments/04/translations/translation_beam7.p.txt \
| sacrebleu data/en-fr/raw/test.en


# N3 best list
python translate_beam.py --beam-size 15 --alpha 0.2 --checkpoint-path assignments/03/baseline/checkpoints/checkpoint_best.pt --output assignments/04/translations/translation_beam15_alph0.2_3n.txt --diverse-beam True --data data/en-fr/prepared --dicts data/en-fr/prepared